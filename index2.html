<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LP DOWNLOADER V4</title>
<style>
:root{
--bg:#000;
--card:#141414;
--red:#ff0000;
--gray:#888;
--blue:#3b82f6;
--green:#22c55e;
}
*{box-sizing:border-box;}
html, body{
background-color:#000 !important;
color:#fff !important;
height:100%;
margin:0;
padding:0;
font-family:Segoe UI,sans-serif;
display:flex;
justify-content:center;
}

/* ===== LOADING SCREEN ===== */
#opening{
position:fixed;inset:0;
background:#000;
display:flex;flex-direction:column;align-items:center;justify-content:center;
z-index:9999;
text-align:center;
}
#opening video{
width:70%;
max-width:320px;
border-radius:16px;
margin-bottom:20px;
}
#opening span{
display:block;
margin-top:5px;
font-size:16px;
color:#fff;
}
.spinner{
width:50px;
height:50px;
border:6px solid #444;
border-top:6px solid #ff0000;
border-radius:50%;
animation:spin 1s linear infinite;
margin-top:10px;
}
@keyframes spin{
0%{transform:rotate(0deg);}
100%{transform:rotate(360deg);}
}

/* ===== APP ===== */
.container{width:100%;max-width:420px;padding:20px;display:none;}

/* HEADER */
.header{
display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;
}
.menu,.update{font-size:22px;cursor:pointer}

/* MODAL */
.modal{
position:fixed;
top:50%; left:50%;
transform:translate(-50%,-50%);
background:#111;
border-radius:16px;
padding:20px;
width:90%; max-width:350px;
display:none;
z-index:9999;
box-shadow:0 0 15px rgba(0,0,0,0.5);
}
.modal-close{
position:absolute;top:10px;right:14px;
font-size:18px;cursor:pointer;color:#fff;
}
.modal h3{margin-top:0;margin-bottom:10px;font-size:16px;}
.modal p{font-size:13px;color:#bbb;line-height:1.4;}

/* OWNER */
.owner{
background:linear-gradient(90deg,#800000,#ff0000);
border-radius:20px;padding:20px;
display:flex;justify-content:space-between;margin-bottom:15px;
}
.badge{
margin-top:8px;font-size:10px;padding:5px 12px;border-radius:20px;background:rgba(0,0,0,.5);display:inline-block;
}

/* BOX */
.box{
background:var(--card);padding:20px;border-radius:20px;border:1px solid #333;
}
input,select{
width:100%;padding:12px;border-radius:10px;background:#000;border:1px solid #444;color:#fff;margin-bottom:10px;
}
button{
width:100%;padding:12px;border:none;border-radius:10px;background:var(--red);color:#fff;font-weight:bold;cursor:pointer;
}
button:disabled{opacity:.6}

/* PREVIEW */
#preview{display:none;margin-top:15px;}
#preview video{width:100%;aspect-ratio:16/9;border-radius:14px;background:#000;}
#title{font-size:13px;margin-top:8px;color:#ddd;}

/* RESULT */
#result{display:none;text-align:center;margin-top:15px;}
#result a{display:block;margin-top:10px;color:var(--blue);font-weight:bold;text-decoration:none;}
.ready{font-size:12px;color:var(--green);}
.tip{font-size:11px;color:#888;}

/* STATS */
.grid{margin-top:15px;display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.stat{background:var(--card);border-radius:15px;padding:15px;}
.label{font-size:12px;color:var(--gray)}
.val{font-size:18px;font-weight:bold;margin-top:5px}
.blue{color:var(--blue)}
.green{color:var(--green)}
</style>
</head>
<body>

<!-- LOADING -->
<div id="opening">
<video autoplay muted loop>
<source src="https://ar-hosting.pages.dev/1770287179319.mp4" type="video/mp4">
</video>
<span>LP DOWNLOADER V4</span>
<span>WAIT LOADING</span>
<div class="spinner"></div>
<h3>DEVELOPER:<span>
@Vitz<span>
@Ady<span>
</div>

<div class="container" id="app">

<div class="header">
<span class="update" onclick="showModal('update')">ðŸ“¢</span>
<b>LP DOWNLOADER V4</b>
<span class="menu" onclick="showModal('desc')">â˜°</span>
</div>

<!-- OWNER -->
<div class="owner">
<div>
<div style="font-size:18px;font-weight:bold">LP DOWNLOADER</div>
<div class="badge">WEBSITE</div>
</div>
<div style="text-align:right">
<div style="font-size:10px;opacity:.7">EXPIRED</div>
<b>UNLIMITED</b>
</div>
</div>

<!-- INPUT BOX -->
<div class="box">
<label style="font-size:12px;color:#888">LINK TIKTOK</label>
<input id="url" placeholder="Tempel link TikTok...">

<select id="format">
<option value="mp4">MP4 (Video)</option>
<option value="mp3">MP3 (Audio)</option>
</select>

<select id="quality">
<option value="hd">HD (Auto)</option>
<option value="sd">SD</option>
</select>

<button id="btn" onclick="getVideo()">KLIK</button>

<div id="preview">
<video id="video" controls></video>
<div id="title"></div>
</div>

<div id="result">
<p class="ready">Siap diunduh</p>
<a id="dl">DOWNLOAD SEKARANG</a>
<p class="tip">Tip Android: klik / tahan untuk simpan</p>
</div>
</div>

<!-- STATS -->
<div class="grid">
  <div class="stat">
    <span class="label">Status:</span>
    <span class="val blue">API Active</span>
  </div>
  <div class="stat">
    <span class="label">Server:</span>
    <span class="val green">Normal</span>
  </div>
  <div class="stat">
    <span class="label">Pengguna:</span>
    <span class="val green">17</span>
  </div>
  <div class="stat">
    <span class="label">Online:</span>
    <span class="val blue">1</span>
  </div>
</div>

</div>

<!-- MODAL -->
<div class="modal" id="descModal">
<span class="modal-close" onclick="closeModal('descModal')">âœ–</span>
<h3>Tentang Web</h3>
<p>LP Downloader V4 â€“ TikTok MP4 & MP3 Downloader<br>
âœ” Preview Video<br>
âœ” SD / HD Auto<br>
âœ” Android & PC Friendly</p>
<h3>Developer</h3>
â€¢Vitz Official<br>
â€¢Ady Official<br>
</div>

<div class="modal" id="updateModal">
<span class="modal-close" onclick="closeModal('updateModal')">âœ–</span>
<h3>Update Terbaru</h3>
<p>âœ” Tambah fitur MP3 & MP4<br>
âœ” Stabil di Chrome & Android<br>
âœ” Preview video langsung</p>
<h3>Developer</h3>
â€¢Vitz Official<br>
â€¢Ady Official<br>
</div>

<script>
/* LOADING 3 detik */
setTimeout(()=>{opening.style.display="none";app.style.display="block";},10000);

/* MODAL */
function showModal(type){
  if(type==='desc') descModal.style.display='block';
  if(type==='update') updateModal.style.display='block';
}
function closeModal(id){
  document.getElementById(id).style.display='none';
}

/* DOWNLOAD VIDEO */
async function getVideo(){
const url=urlInput.value.trim();
const format=formatSelect.value;
const quality=qualitySelect.value;
const btn=document.getElementById("btn");
if(!url){alert("Masukin link TikTok dulu!");return;}
btn.innerText="AMBIL DATA...";
btn.disabled=true;

try{
const r=await fetch(`https://www.tikwm.com/api/?url=${encodeURIComponent(url)}`);
const j=await r.json();
if(!j.data) throw 0;

let videoLink = quality==="hd" ? (j.data.hdplay || j.data.play) : j.data.play;
let finalLink = format==="mp3" ? j.data.music : videoLink;

/* PREVIEW */
if(format==="mp4"){video.src=finalLink;preview.style.display="block";}
else{preview.style.display="none";}
title.innerText=j.data.title || "TikTok Video";

/* RESULT - buka di Chrome */
dl.href = finalLink;
dl.onclick = function(e){
    e.preventDefault();
    window.open(finalLink, "_system");
    return false;
}
result.style.display="block";
btn.innerText="SELESAI";

}catch{
alert("Gagal ambil video");
btn.innerText="PROSES";
}
btn.disabled=false;
}

/* ELEMENTS */
const urlInput=document.getElementById("url");
const formatSelect=document.getElementById("format");
const qualitySelect=document.getElementById("quality");
const preview=document.getElementById("preview");
const video=document.getElementById("video");
const title=document.getElementById("title");
const dl=document.getElementById("dl");
const result=document.getElementById("result");
const descModal=document.getElementById("descModal");
const updateModal=document.getElementById("updateModal");
</script>
</body>
</html>
